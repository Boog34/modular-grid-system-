<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Modular Grid Calculator</title>
<style>
    body {
        font-family: system-ui, sans-serif;
        max-width: 760px;
        margin: 40px auto;
        padding: 0 20px;
        line-height: 1.5;
    }
    h1 { font-size: 1.8rem; margin-bottom: 0.5rem; }
    .field {
        margin-bottom: 1.2rem;
    }
    label {
        display: block;
        font-weight: 600;
        margin-bottom: 4px;
    }
    input {
        width: 150px;
        padding: 6px;
        font-size: 1rem;
    }
    .output-box {
        background: #f7f7f7;
        border-radius: 6px;
        padding: 16px;
        margin-top: 24px;
    }
    .output-line { margin: 6px 0; }
</style>
</head>

<body>

<h1>Modular Grid Calculator</h1>
<p>
A simple calculator for determining modular text block heights using a baseline-driven grid. 
This helps you size text beds first, and then position them to create margins in InDesign.
</p>

<div class="field">
    <label for="pageHeight">Page height (mm)</label>
    <input type="number" id="pageHeight" value="297">
</div>

<div class="field">
    <label for="baselinePt">Baseline increment (pt)</label>
    <input type="number" id="baselinePt" value="12">
</div>

<div class="field">
    <label for="modules">Number of modules (rows)</label>
    <input type="number" id="modules" value="6">
</div>

<div class="field">
    <label for="linesPerModule">Lines per module</label>
    <input type="number" id="linesPerModule" value="10">
</div>

<button onclick="calculate()">Calculate</button>

<div id="results" class="output-box" style="display:none;">
    <h2>Results</h2>
    <div class="output-line" id="baselineMM"></div>
    <div class="output-line" id="moduleHeight"></div>
    <div class="output-line" id="totalGridHeight"></div>
    <div class="output-line" id="freeSpace"></div>
</div>

<script>
function calculate() {
    const pageHeight = parseFloat(document.getElementById('pageHeight').value);
    const baselinePt = parseFloat(document.getElementById('baselinePt').value);
    const modules = parseFloat(document.getElementById('modules').value);
    const linesPerModule = parseFloat(document.getElementById('linesPerModule').value);

    // Convert pt â†’ mm (quietly, only for internal maths)
    const baselineMM = baselinePt * 0.352778;

    // Module height in mm
    const moduleHeight = linesPerModule * baselineMM;

    // Total grid height
    const totalGridHeight = moduleHeight * modules;

    // Free space (designer can use for margins)
    const freeSpace = pageHeight - totalGridHeight;

    document.getElementById('baselineMM').textContent =
        "Baseline increment: " + baselinePt + " pt";

    document.getElementById('moduleHeight').textContent =
        "Module height: " + moduleHeight.toFixed(2) + " mm";

    document.getElementById('totalGridHeight').textContent =
        "Total grid height: " + totalGridHeight.toFixed(2) + " mm";

    document.getElementById('freeSpace').textContent =
        "Remaining free space for margins: " + freeSpace.toFixed(2) + " mm";

    document.getElementById('results').style.display = "block";
}
</script>

</body>
</html>